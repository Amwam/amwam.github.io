<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width, initial-scale=1" data-next-head=""/><title data-next-head="">AMWAM - Amit Shah</title><link rel="manifest" href="/manifest.json" data-next-head=""/><link rel="preload" href="/_next/static/css/c39867da819d3e0f.css" as="style"/><link rel="preload" href="/_next/static/css/b55e69cf5b8fb5e7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c39867da819d3e0f.css" data-n-g=""/><link rel="stylesheet" href="/_next/static/css/b55e69cf5b8fb5e7.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-6ffd07a3317375c1.js" defer=""></script><script src="/_next/static/chunks/framework-b8ed9b642a1d405a.js" defer=""></script><script src="/_next/static/chunks/main-b2a46e6c00f63865.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2c6aee6a3172eef0.js" defer=""></script><script src="/_next/static/chunks/912-d93a01f7a9e09f32.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-403bd881c71759bf.js" defer=""></script><script src="/_next/static/021F_6sZTWBa1JTNBfT65/_buildManifest.js" defer=""></script><script src="/_next/static/021F_6sZTWBa1JTNBfT65/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="_app_container__iy82q"><div id="Navigation_nav-bar__4rWrT" role="navigation"><img id="Navigation_nav-display-picture__VxsyZ" src="/images/me.200.png" alt="Me (Amit)" loading="lazy"/><div id="Navigation_name__E7OH_">Amit Shah</div><div id="Navigation_nav-links__znJB4"><div class="Navigation_nav-link__Apcz9"><a href="/">Home</a></div><div class="Navigation_nav-link__Apcz9"><a href="/about">About</a></div><div class="Navigation_nav-link__Apcz9"><a href="/blog">Blog</a></div><div class="Navigation_nav-link__Apcz9"><a href="/contact">Contact</a></div></div></div><div id="_app_content-wrapper__Irqph"><main id="_app_content__ScICW"></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"POST":"Ensuring the git history of your project (or any version controlled project) can be an incredibly useful asset.\nIn particular for new developers, trying to understand why code has been written in a certain way.\nWith clear and ordered commit messages, it can become obvious as to why a change was made. \n\nThere are two practices I apply to make sure that I leave my code changes as clear as I can. \nThey are how I write the commit messages, and the\nordering of the actual commits.\n\n### Commit messages\nThe message in a commit is where an explanation for the change should reside.\nThis should include at the very least what was changed, and why.\n\nSome examples of a bad commit messages include (and yes, I have seen these kind of commits from multiple developers on different projects):\n\n\u003e fixed bug\n\nand\n\n\u003e refactored stuff\n\nA more descriptive commit message would look something like\n\n\u003e Fix ImageProcessingFactory not handling images less than 50px wide\n\nCommit messages should ideally tell you what a commit will do if it is applied.\nI try to write my messages as if being read as `This commit will \u003ccommit message\u003e`\n\nAn even better commit message would have a slightly longer message, after the initial message, describing the problem/change in more detail. \nHowever, this isn't always practical or even necessary depending on the project.\nIf you have a chance I would recommend taking a look at the git and linux kernal commit messages as examples of great ones!\n\nI've also worked in places that would prepend the ticket number to the commit message. Allowing developers to view the reasons for a change in more\ndetail.\n\n### Autosquashing commits\nRebasing commit allows you to keep your history linear. \nWhile not everyone agrees whether or not you should be maintaining a linear history, \nIt is almost definitely (in my opinion) and good idea to keep your local branches ordered appropriately, by showing changes as a series of changes to be applied.\nIdeally each change is isolated from the others (within reason), and can be applied separately.\n\nDevelopment rarely works like this. Too often have I made some changes, progressed a bit further, and realised I there were more changes to make in\nthat original commit.\nMaybe it was a left over debug statement, or some missing config, or even a chunk of functionality I didn't originally think about. \nTypically most people would just make a new commit with these changes, and leave it at that. \n\nGit has the ability to squash commits into another, allowing you to make several small changes, and then bundle them up into one, more appropiate,\ncommit.\nThis get a bit complicated, when you start to make changes that aren't in order.\n\nLuckily, git has that solved, with `--fixup` and `--squash`. These let you commit changes, and at the same time specify that they should be part of a\nprevious commit.\nThe `fixup` option will allow you to `amend` a previous commit, and not change the original commit  message.\nThe `squash` options, will also `amend` a previous commit, but it will also give you the change to alter the commit message.\n\nTo use these, just prepare you staging area, like normal (`git add` or `git add -p`), then commit with:\n\n    `git commit --fixup=\u003cprevious commit hash\u003e`\n\nThis will create a new commit, with a message in the form\n\n    !fixup \u003coriginal commit message\u003e\n\nThen when you are at a stage you wish to squash and clean all your commits, just run a rebase with the `--autosquash` flag (or you can set\n`rebase.autosquash` to true in you git config).\n\nYou history would then go from:\n\n\u003ecommit 1234\n\u003e\u003cbr\u003e \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;!fixup Original change\n\n\u003ecommit 5678\n\u003e\u003cbr\u003e \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;Some other change\n\n\u003ecommit 91011\n\u003e\u003cbr\u003e \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;Original change\n\nbecoming:\n\n\u003ecommit 5678\n\u003e\u003cbr\u003e\u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Some other change\n\u003e\n\u003ecommit 91011\n\u003e\u003cbr\u003e \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;Original change\n\nWhere commit 91011, contains all the changes from the original `91011`, and `1234`\n\n\nRebasing commits can sometimes be a little scary if you don't know what you are doing or how it really works.\nSo squashing commits may not be for everyone, but I would still recommend everyone to put in more effort to their commit messages, as it can help\neveryone involved in modifying a codebase.\n"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"maintaining-a-clean-git-history"},"buildId":"021F_6sZTWBa1JTNBfT65","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>